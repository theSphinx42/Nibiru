"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./contexts/AuthContext.tsx":
/*!**********************************!*\
  !*** ./contexts/AuthContext.tsx ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: function() { return /* binding */ AuthProvider; },\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/api */ \"./services/api.ts\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cookies-next */ \"./node_modules/cookies-next/lib/index.js\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cookies_next__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-hot-toast */ \"./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var _utils_mockData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/mockData */ \"./utils/mockData.ts\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst AuthProvider = (param)=>{\n    let { children } = param;\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [token, setToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Function to validate stored auth data\n    const validateStoredAuth = ()=>{\n        try {\n            const storedUser = localStorage.getItem(\"user\");\n            const storedToken = localStorage.getItem(\"token\");\n            if (!storedUser || !storedToken) return null;\n            const userData = JSON.parse(storedUser);\n            // Only validate essential fields but preserve all user data\n            if (!userData.email) return null;\n            // Ensure we preserve profile data\n            if (userData.profileImage) {\n                userData.profileImage = userData.profileImage;\n            }\n            if (userData.displayName) {\n                userData.displayName = userData.displayName;\n            }\n            // Ensure we have required fields with defaults if missing\n            return {\n                user: {\n                    ...userData,\n                    id: userData.id || \"temp-id\",\n                    role: userData.role || \"USER\",\n                    quantumScore: userData.quantumScore || 0,\n                    spiritGlyphTier: userData.spiritGlyphTier || 1,\n                    followers: userData.followers || [],\n                    following: userData.following || [],\n                    followerCount: userData.followerCount || 0,\n                    hasPaidOnboardingFee: userData.hasPaidOnboardingFee || false,\n                    isNewsletterSubscriber: userData.isNewsletterSubscriber || false,\n                    unlockedPremiumAccess: userData.unlockedPremiumAccess || {}\n                },\n                token: storedToken\n            };\n        } catch (error) {\n            console.error(\"Error validating stored auth:\", error);\n            return null;\n        }\n    };\n    // Function to store auth data\n    const storeAuthData = (userData, authToken)=>{\n        try {\n            // Preserve existing data when updating\n            const existingData = localStorage.getItem(\"user\");\n            let finalUserData = userData;\n            if (existingData) {\n                const existingUser = JSON.parse(existingData);\n                finalUserData = {\n                    ...existingUser,\n                    ...userData,\n                    // Explicitly preserve these fields if they exist\n                    profileImage: userData.profileImage || existingUser.profileImage,\n                    displayName: userData.displayName || existingUser.displayName\n                };\n            }\n            localStorage.setItem(\"user\", JSON.stringify(finalUserData));\n            localStorage.setItem(\"token\", authToken);\n            (0,cookies_next__WEBPACK_IMPORTED_MODULE_3__.setCookie)(\"auth_token\", authToken);\n        } catch (error) {\n            console.error(\"Error storing auth data:\", error);\n        }\n    };\n    // Function to clear auth data\n    const clearAuthData = ()=>{\n        try {\n            localStorage.removeItem(\"user\");\n            localStorage.removeItem(\"token\");\n            (0,cookies_next__WEBPACK_IMPORTED_MODULE_3__.deleteCookie)(\"auth_token\");\n        } catch (error) {\n            console.error(\"Error clearing auth data:\", error);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkAuthStatus = async ()=>{\n            setIsLoading(true);\n            try {\n                // First validate stored auth data\n                const storedAuth = validateStoredAuth();\n                if (storedAuth) {\n                    setUser(storedAuth.user);\n                    setToken(storedAuth.token);\n                    setIsAuthenticated(true);\n                    console.log(\"User authenticated from storage:\", storedAuth.user);\n                    return;\n                }\n                // If no valid stored auth, try API\n                try {\n                    var _response_data;\n                    const response = await _services_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"/auth/me\");\n                    if ((_response_data = response.data) === null || _response_data === void 0 ? void 0 : _response_data.user) {\n                        const userData = response.data.user;\n                        const authToken = response.data.token || \"default-token\";\n                        setUser(userData);\n                        setToken(authToken);\n                        setIsAuthenticated(true);\n                        storeAuthData(userData, authToken);\n                        console.log(\"User authenticated from API:\", userData);\n                        return;\n                    }\n                } catch (apiError) {\n                    console.error(\"API auth check failed:\", apiError);\n                }\n                // If both storage and API fail, clear any stale data\n                clearAuthData();\n                setUser(null);\n                setToken(\"\");\n                setIsAuthenticated(false);\n                // Create demo user if in demo mode\n                if (process.env.NEXT_PUBLIC_DEMO_MODE === \"true\") {\n                    console.log(\"Demo mode active, creating mock user\");\n                    const mockUserData = _utils_mockData__WEBPACK_IMPORTED_MODULE_5__.mockUser;\n                    const mockToken = \"demo-token-xyz\";\n                    setUser(mockUserData);\n                    setToken(mockToken);\n                    setIsAuthenticated(true);\n                    storeAuthData(mockUserData, mockToken);\n                }\n            } catch (error) {\n                console.error(\"Auth status check failed:\", error);\n                clearAuthData();\n                setUser(null);\n                setToken(\"\");\n                setIsAuthenticated(false);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        checkAuthStatus();\n    }, []);\n    const logout = ()=>{\n        try {\n            clearAuthData();\n            setUser(null);\n            setToken(\"\");\n            setIsAuthenticated(false);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.success(\"Logged out successfully\");\n        } catch (error) {\n            console.error(\"Logout error:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Error during logout\");\n        }\n    };\n    const login = async (email, password)=>{\n        try {\n            clearAuthData(); // Clear any existing auth data first\n            let userData;\n            let authToken;\n            // Simulate API login with test users\n            if (email === \"login\" && password === \"password\") {\n                userData = {\n                    id: \"test-user-789\",\n                    email: \"test@example.com\",\n                    username: \"testuser\",\n                    displayName: \"Test User\",\n                    role: \"USER\",\n                    quantumScore: 50,\n                    spiritGlyphTier: 1,\n                    profileImage: \"https://api.dicebear.com/7.x/personas/svg?seed=test\",\n                    createdAt: new Date().toISOString(),\n                    updatedAt: new Date().toISOString(),\n                    services_published: 2,\n                    total_downloads: 156,\n                    average_rating: 4.2,\n                    weekly_stats: {\n                        views: 45,\n                        interactions: 12\n                    },\n                    monthly_stats: {\n                        views: 180,\n                        interactions: 48\n                    },\n                    followers: [],\n                    following: [],\n                    followerCount: 5,\n                    hasPaidOnboardingFee: true,\n                    isNewsletterSubscriber: true,\n                    unlockedPremiumAccess: {\n                        galatea: false\n                    }\n                };\n                authToken = \"test-token-xyz\";\n            } else if (email === \"angelfieroink@hotmail.com\") {\n                userData = {\n                    id: \"sphinx-user-123\",\n                    email: \"angelfieroink@hotmail.com\",\n                    username: \"sphinx\",\n                    displayName: \"Sphinx\",\n                    role: \"ADMIN\",\n                    quantumScore: 245,\n                    spiritGlyphTier: 3,\n                    profileImage: \"/images/sphinx-profile.png\",\n                    createdAt: \"2024-01-15T00:00:00.000Z\",\n                    updatedAt: new Date().toISOString(),\n                    services_published: 8,\n                    total_downloads: 1245,\n                    average_rating: 4.8,\n                    weekly_stats: {\n                        views: 245,\n                        interactions: 89\n                    },\n                    monthly_stats: {\n                        views: 982,\n                        interactions: 367\n                    },\n                    quarterly_conversions: 156,\n                    yearly_revenue: 45600,\n                    user_engagement: 78,\n                    followers: [\n                        \"claude-user-456\"\n                    ],\n                    following: [\n                        \"claude-user-456\"\n                    ],\n                    followerCount: 42,\n                    hasPaidOnboardingFee: true,\n                    isNewsletterSubscriber: true,\n                    unlockedPremiumAccess: {\n                        galatea: true,\n                        quantum: true,\n                        aegis: true\n                    }\n                };\n                authToken = \"sphinx-token-xyz\";\n            } else if (email === \"angelfieroink1@hotmail.com\") {\n                userData = {\n                    id: \"claude-user-456\",\n                    email: \"angelfieroink1@hotmail.com\",\n                    username: \"claude\",\n                    displayName: \"Claude\",\n                    role: \"ADMIN\",\n                    quantumScore: 315,\n                    spiritGlyphTier: 4,\n                    profileImage: \"/images/claude-profile.png\",\n                    createdAt: \"2024-01-01T00:00:00.000Z\",\n                    updatedAt: new Date().toISOString(),\n                    services_published: 12,\n                    total_downloads: 2156,\n                    average_rating: 4.9,\n                    weekly_stats: {\n                        views: 312,\n                        interactions: 145\n                    },\n                    monthly_stats: {\n                        views: 1245,\n                        interactions: 578\n                    },\n                    quarterly_conversions: 234,\n                    yearly_revenue: 68900,\n                    user_engagement: 85,\n                    followers: [\n                        \"sphinx-user-123\"\n                    ],\n                    following: [\n                        \"sphinx-user-123\"\n                    ],\n                    followerCount: 56,\n                    hasPaidOnboardingFee: true,\n                    isNewsletterSubscriber: true,\n                    unlockedPremiumAccess: {\n                        galatea: true,\n                        quantum: true,\n                        aegis: true,\n                        nexus: true\n                    }\n                };\n                authToken = \"claude-token-xyz\";\n            } else {\n                throw new Error(\"Invalid login credentials\");\n            }\n            // Set auth state\n            setUser(userData);\n            setToken(authToken);\n            setIsAuthenticated(true);\n            // Store auth data\n            storeAuthData(userData, authToken);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.success(\"Logged in successfully\");\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            clearAuthData();\n            setUser(null);\n            setToken(\"\");\n            setIsAuthenticated(false);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Login failed\");\n            throw error;\n        }\n    };\n    const signup = async (email, password, username)=>{\n        try {\n            // In a real app, register user with server\n            // For now just set auth state with mock data\n            setIsAuthenticated(true);\n            setUser({\n                ..._utils_mockData__WEBPACK_IMPORTED_MODULE_5__.mockUser,\n                email,\n                username,\n                following: [],\n                followers: [],\n                followerCount: 0\n            });\n            // Set mock auth token in cookie\n            (0,cookies_next__WEBPACK_IMPORTED_MODULE_3__.setCookie)(\"auth_token\", \"mock_token_12345\", {\n                maxAge: 60 * 60 * 24 * 7\n            });\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.success(\"Account created successfully\");\n        } catch (error) {\n            console.error(\"Signup error:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Failed to create account\");\n            throw error;\n        }\n    };\n    const updateProfileImage = async (imageUrl)=>{\n        if (!user) return;\n        try {\n            // Update the user object with new image\n            const updatedUser = {\n                ...user,\n                profileImage: imageUrl\n            };\n            // Update local state first\n            setUser(updatedUser);\n            // Update localStorage\n            localStorage.setItem(\"user\", JSON.stringify(updatedUser));\n            // Try to update backend if not in development mode\n            if (false) {}\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.success(\"Profile image updated successfully\");\n        } catch (error) {\n            console.error(\"Error updating profile image:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Failed to update profile image\");\n            throw error;\n        }\n    };\n    const updateDisplayName = async (displayName)=>{\n        if (!user) return;\n        try {\n            const updatedUser = {\n                ...user,\n                displayName\n            };\n            // Update local state first\n            setUser(updatedUser);\n            // Update localStorage\n            localStorage.setItem(\"user\", JSON.stringify(updatedUser));\n            // Try to update backend if not in development mode\n            if (false) {}\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.success(\"Display name updated successfully\");\n        } catch (error) {\n            console.error(\"Error updating display name:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Failed to update display name\");\n            throw error;\n        }\n    };\n    const isSeller = (user === null || user === void 0 ? void 0 : user.role) === \"SELLER\" || (user === null || user === void 0 ? void 0 : user.role) === \"ADMIN\";\n    // Follow user functionality\n    const followUser = async (userId)=>{\n        if (!user) return;\n        try {\n            // In a real app, make API call to follow user\n            // Clone the current following list or create a new one\n            const following = [\n                ...user.following || []\n            ];\n            // Add the user ID if not already following\n            if (!following.includes(userId)) {\n                following.push(userId);\n            }\n            // Update the local user state\n            setUser({\n                ...user,\n                following\n            });\n            // Increase the other user's quantum score (in a real app this would be handled by the server)\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.success(\"Now following user (+5 points to them)\");\n        } catch (error) {\n            console.error(\"Follow error:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Failed to follow user\");\n            throw error;\n        }\n    };\n    // Unfollow user functionality\n    const unfollowUser = async (userId)=>{\n        if (!user) return;\n        try {\n            // In a real app, make API call to unfollow user\n            // Filter out the user ID from the following list\n            const following = (user.following || []).filter((id)=>id !== userId);\n            // Update the local user state\n            setUser({\n                ...user,\n                following\n            });\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.success(\"Unfollowed user\");\n        } catch (error) {\n            console.error(\"Unfollow error:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Failed to unfollow user\");\n            throw error;\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            user,\n            isAuthenticated,\n            login,\n            logout,\n            signup,\n            updateProfileImage,\n            updateDisplayName,\n            isSeller,\n            token,\n            isLoading,\n            followUser,\n            unfollowUser\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\angel\\\\Desktop\\\\Saphira\\\\saphira-q\\\\frontend\\\\frontend\\\\contexts\\\\AuthContext.tsx\",\n        lineNumber: 485,\n        columnNumber: 5\n    }, undefined);\n};\n_s(AuthProvider, \"bRNO9Vc+Jo731AHTCh/Wz5d18rk=\");\n_c = AuthProvider;\nconst useAuth = ()=>{\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n_s1(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNtQyxLQUFLLENBQUM7WUFDWixNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ2pDLFlBQVlrRyxRQUFRO1FBQUNDLE9BQU87WUFDM0IvRjtZQUNBRTtZQUNBb0Q7WUFDQUY7WUFDQXdCO1lBQ0FFO1lBQ0FPO1lBQ0FFO1lBQ0FuRjtZQUNBRTtZQUNBa0Y7WUFDQUk7UUFDRjtrQkFDRzdGOzs7Ozs7QUFHUCxFQUFFO0dBN2RXRDtLQUFBQTtBQStkTixNQUFNa0csVUFBVTs7SUFDckIsTUFBTUMsVUFBVTdHLGlEQUFVQSxDQUFDUTtJQUMzQixJQUFJcUcsWUFBWXBHLFdBQVc7UUFDekIsTUFBTSxJQUFJOEUsTUFBTTtJQUNsQjtJQUNBLE9BQU9zQjtBQUNULEVBQUU7SUFOV0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29udGV4dHMvQXV0aENvbnRleHQudHN4PzZkODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVzZXIsIFVzZXJSb2xlIH0gZnJvbSAnLi4vdHlwZXMvdXNlcic7XG5pbXBvcnQgYXBpIGZyb20gJy4uL3NlcnZpY2VzL2FwaSc7XG5pbXBvcnQgeyBzZXRDb29raWUsIGdldENvb2tpZSwgZGVsZXRlQ29va2llIH0gZnJvbSAnY29va2llcy1uZXh0JztcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSAncmVhY3QtaG90LXRvYXN0JztcbmltcG9ydCB7IG1vY2tVc2VyIH0gZnJvbSAnLi4vdXRpbHMvbW9ja0RhdGEnO1xuXG5pbnRlcmZhY2UgQXV0aENvbnRleHRUeXBlIHtcbiAgdXNlcjogVXNlciB8IG51bGw7XG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhbjtcbiAgbG9naW46IChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBsb2dvdXQ6ICgpID0+IHZvaWQ7XG4gIHNpZ251cDogKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIHVzZXJuYW1lOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIHVwZGF0ZVByb2ZpbGVJbWFnZTogKGltYWdlVXJsOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHVwZGF0ZURpc3BsYXlOYW1lOiAoZGlzcGxheU5hbWU6IHN0cmluZykgPT4gdm9pZDtcbiAgaXNTZWxsZXI6IGJvb2xlYW47XG4gIHRva2VuOiBzdHJpbmc7XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgZm9sbG93VXNlcjogKHVzZXJJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB1bmZvbGxvd1VzZXI6ICh1c2VySWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuZXhwb3J0IGNvbnN0IEF1dGhQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0F1dGhlbnRpY2F0ZWQsIHNldElzQXV0aGVudGljYXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0b2tlbiwgc2V0VG9rZW5dID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgLy8gRnVuY3Rpb24gdG8gdmFsaWRhdGUgc3RvcmVkIGF1dGggZGF0YVxuICBjb25zdCB2YWxpZGF0ZVN0b3JlZEF1dGggPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZFVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpO1xuICAgICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcbiAgICAgIFxuICAgICAgaWYgKCFzdG9yZWRVc2VyIHx8ICFzdG9yZWRUb2tlbikgcmV0dXJuIG51bGw7XG4gICAgICBcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0gSlNPTi5wYXJzZShzdG9yZWRVc2VyKTtcbiAgICAgIFxuICAgICAgLy8gT25seSB2YWxpZGF0ZSBlc3NlbnRpYWwgZmllbGRzIGJ1dCBwcmVzZXJ2ZSBhbGwgdXNlciBkYXRhXG4gICAgICBpZiAoIXVzZXJEYXRhLmVtYWlsKSByZXR1cm4gbnVsbDtcbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIHdlIHByZXNlcnZlIHByb2ZpbGUgZGF0YVxuICAgICAgaWYgKHVzZXJEYXRhLnByb2ZpbGVJbWFnZSkge1xuICAgICAgICB1c2VyRGF0YS5wcm9maWxlSW1hZ2UgPSB1c2VyRGF0YS5wcm9maWxlSW1hZ2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICh1c2VyRGF0YS5kaXNwbGF5TmFtZSkge1xuICAgICAgICB1c2VyRGF0YS5kaXNwbGF5TmFtZSA9IHVzZXJEYXRhLmRpc3BsYXlOYW1lO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBFbnN1cmUgd2UgaGF2ZSByZXF1aXJlZCBmaWVsZHMgd2l0aCBkZWZhdWx0cyBpZiBtaXNzaW5nXG4gICAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgLi4udXNlckRhdGEsXG4gICAgICAgICAgaWQ6IHVzZXJEYXRhLmlkIHx8ICd0ZW1wLWlkJyxcbiAgICAgICAgICByb2xlOiB1c2VyRGF0YS5yb2xlIHx8ICdVU0VSJyxcbiAgICAgICAgICBxdWFudHVtU2NvcmU6IHVzZXJEYXRhLnF1YW50dW1TY29yZSB8fCAwLFxuICAgICAgICAgIHNwaXJpdEdseXBoVGllcjogdXNlckRhdGEuc3Bpcml0R2x5cGhUaWVyIHx8IDEsXG4gICAgICAgICAgZm9sbG93ZXJzOiB1c2VyRGF0YS5mb2xsb3dlcnMgfHwgW10sXG4gICAgICAgICAgZm9sbG93aW5nOiB1c2VyRGF0YS5mb2xsb3dpbmcgfHwgW10sXG4gICAgICAgICAgZm9sbG93ZXJDb3VudDogdXNlckRhdGEuZm9sbG93ZXJDb3VudCB8fCAwLFxuICAgICAgICAgIGhhc1BhaWRPbmJvYXJkaW5nRmVlOiB1c2VyRGF0YS5oYXNQYWlkT25ib2FyZGluZ0ZlZSB8fCBmYWxzZSxcbiAgICAgICAgICBpc05ld3NsZXR0ZXJTdWJzY3JpYmVyOiB1c2VyRGF0YS5pc05ld3NsZXR0ZXJTdWJzY3JpYmVyIHx8IGZhbHNlLFxuICAgICAgICAgIHVubG9ja2VkUHJlbWl1bUFjY2VzczogdXNlckRhdGEudW5sb2NrZWRQcmVtaXVtQWNjZXNzIHx8IHt9XG4gICAgICAgIH0sXG4gICAgICAgIHRva2VuOiBzdG9yZWRUb2tlblxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdmFsaWRhdGluZyBzdG9yZWQgYXV0aDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gc3RvcmUgYXV0aCBkYXRhXG4gIGNvbnN0IHN0b3JlQXV0aERhdGEgPSAodXNlckRhdGE6IFVzZXIsIGF1dGhUb2tlbjogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFByZXNlcnZlIGV4aXN0aW5nIGRhdGEgd2hlbiB1cGRhdGluZ1xuICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTtcbiAgICAgIGxldCBmaW5hbFVzZXJEYXRhID0gdXNlckRhdGE7XG4gICAgICBcbiAgICAgIGlmIChleGlzdGluZ0RhdGEpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gSlNPTi5wYXJzZShleGlzdGluZ0RhdGEpO1xuICAgICAgICBmaW5hbFVzZXJEYXRhID0ge1xuICAgICAgICAgIC4uLmV4aXN0aW5nVXNlcixcbiAgICAgICAgICAuLi51c2VyRGF0YSxcbiAgICAgICAgICAvLyBFeHBsaWNpdGx5IHByZXNlcnZlIHRoZXNlIGZpZWxkcyBpZiB0aGV5IGV4aXN0XG4gICAgICAgICAgcHJvZmlsZUltYWdlOiB1c2VyRGF0YS5wcm9maWxlSW1hZ2UgfHwgZXhpc3RpbmdVc2VyLnByb2ZpbGVJbWFnZSxcbiAgICAgICAgICBkaXNwbGF5TmFtZTogdXNlckRhdGEuZGlzcGxheU5hbWUgfHwgZXhpc3RpbmdVc2VyLmRpc3BsYXlOYW1lXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkoZmluYWxVc2VyRGF0YSkpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgYXV0aFRva2VuKTtcbiAgICAgIHNldENvb2tpZSgnYXV0aF90b2tlbicsIGF1dGhUb2tlbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0b3JpbmcgYXV0aCBkYXRhOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gY2xlYXIgYXV0aCBkYXRhXG4gIGNvbnN0IGNsZWFyQXV0aERhdGEgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTtcbiAgICAgIGRlbGV0ZUNvb2tpZSgnYXV0aF90b2tlbicpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhcmluZyBhdXRoIGRhdGE6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrQXV0aFN0YXR1cyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRmlyc3QgdmFsaWRhdGUgc3RvcmVkIGF1dGggZGF0YVxuICAgICAgICBjb25zdCBzdG9yZWRBdXRoID0gdmFsaWRhdGVTdG9yZWRBdXRoKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc3RvcmVkQXV0aCkge1xuICAgICAgICAgIHNldFVzZXIoc3RvcmVkQXV0aC51c2VyKTtcbiAgICAgICAgICBzZXRUb2tlbihzdG9yZWRBdXRoLnRva2VuKTtcbiAgICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgYXV0aGVudGljYXRlZCBmcm9tIHN0b3JhZ2U6Jywgc3RvcmVkQXV0aC51c2VyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBubyB2YWxpZCBzdG9yZWQgYXV0aCwgdHJ5IEFQSVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCgnL2F1dGgvbWUnKTtcbiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YT8udXNlcikge1xuICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSByZXNwb25zZS5kYXRhLnVzZXI7XG4gICAgICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSByZXNwb25zZS5kYXRhLnRva2VuIHx8ICdkZWZhdWx0LXRva2VuJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0VXNlcih1c2VyRGF0YSk7XG4gICAgICAgICAgICBzZXRUb2tlbihhdXRoVG9rZW4pO1xuICAgICAgICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKHRydWUpO1xuICAgICAgICAgICAgc3RvcmVBdXRoRGF0YSh1c2VyRGF0YSwgYXV0aFRva2VuKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGF1dGhlbnRpY2F0ZWQgZnJvbSBBUEk6JywgdXNlckRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoYXBpRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgYXV0aCBjaGVjayBmYWlsZWQ6JywgYXBpRXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYm90aCBzdG9yYWdlIGFuZCBBUEkgZmFpbCwgY2xlYXIgYW55IHN0YWxlIGRhdGFcbiAgICAgICAgY2xlYXJBdXRoRGF0YSgpO1xuICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICBzZXRUb2tlbignJyk7XG4gICAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgZGVtbyB1c2VyIGlmIGluIGRlbW8gbW9kZVxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfREVNT19NT0RFID09PSAndHJ1ZScpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRGVtbyBtb2RlIGFjdGl2ZSwgY3JlYXRpbmcgbW9jayB1c2VyJyk7XG4gICAgICAgICAgY29uc3QgbW9ja1VzZXJEYXRhID0gbW9ja1VzZXI7XG4gICAgICAgICAgY29uc3QgbW9ja1Rva2VuID0gJ2RlbW8tdG9rZW4teHl6JztcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRVc2VyKG1vY2tVc2VyRGF0YSk7XG4gICAgICAgICAgc2V0VG9rZW4obW9ja1Rva2VuKTtcbiAgICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7XG4gICAgICAgICAgc3RvcmVBdXRoRGF0YShtb2NrVXNlckRhdGEsIG1vY2tUb2tlbik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGggc3RhdHVzIGNoZWNrIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgIGNsZWFyQXV0aERhdGEoKTtcbiAgICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgICAgc2V0VG9rZW4oJycpO1xuICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoZmFsc2UpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGNoZWNrQXV0aFN0YXR1cygpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgbG9nb3V0ID0gKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjbGVhckF1dGhEYXRhKCk7XG4gICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgc2V0VG9rZW4oJycpO1xuICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoJ0xvZ2dlZCBvdXQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ291dCBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcignRXJyb3IgZHVyaW5nIGxvZ291dCcpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBsb2dpbiA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNsZWFyQXV0aERhdGEoKTsgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIGF1dGggZGF0YSBmaXJzdFxuICAgICAgXG4gICAgICBsZXQgdXNlckRhdGE6IFVzZXI7XG4gICAgICBsZXQgYXV0aFRva2VuOiBzdHJpbmc7XG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXRlIEFQSSBsb2dpbiB3aXRoIHRlc3QgdXNlcnNcbiAgICAgIGlmIChlbWFpbCA9PT0gJ2xvZ2luJyAmJiBwYXNzd29yZCA9PT0gJ3Bhc3N3b3JkJykge1xuICAgICAgICB1c2VyRGF0YSA9IHtcbiAgICAgICAgICBpZDogJ3Rlc3QtdXNlci03ODknLFxuICAgICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgICAgdXNlcm5hbWU6ICd0ZXN0dXNlcicsXG4gICAgICAgICAgZGlzcGxheU5hbWU6ICdUZXN0IFVzZXInLFxuICAgICAgICAgIHJvbGU6ICdVU0VSJyBhcyBVc2VyUm9sZSxcbiAgICAgICAgICBxdWFudHVtU2NvcmU6IDUwLFxuICAgICAgICAgIHNwaXJpdEdseXBoVGllcjogMSxcbiAgICAgICAgICBwcm9maWxlSW1hZ2U6ICdodHRwczovL2FwaS5kaWNlYmVhci5jb20vNy54L3BlcnNvbmFzL3N2Zz9zZWVkPXRlc3QnLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHNlcnZpY2VzX3B1Ymxpc2hlZDogMixcbiAgICAgICAgICB0b3RhbF9kb3dubG9hZHM6IDE1NixcbiAgICAgICAgICBhdmVyYWdlX3JhdGluZzogNC4yLFxuICAgICAgICAgIHdlZWtseV9zdGF0czoge1xuICAgICAgICAgICAgdmlld3M6IDQ1LFxuICAgICAgICAgICAgaW50ZXJhY3Rpb25zOiAxMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgbW9udGhseV9zdGF0czoge1xuICAgICAgICAgICAgdmlld3M6IDE4MCxcbiAgICAgICAgICAgIGludGVyYWN0aW9uczogNDhcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvbGxvd2VyczogW10sXG4gICAgICAgICAgZm9sbG93aW5nOiBbXSxcbiAgICAgICAgICBmb2xsb3dlckNvdW50OiA1LFxuICAgICAgICAgIGhhc1BhaWRPbmJvYXJkaW5nRmVlOiB0cnVlLFxuICAgICAgICAgIGlzTmV3c2xldHRlclN1YnNjcmliZXI6IHRydWUsXG4gICAgICAgICAgdW5sb2NrZWRQcmVtaXVtQWNjZXNzOiB7XG4gICAgICAgICAgICBnYWxhdGVhOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgYXV0aFRva2VuID0gJ3Rlc3QtdG9rZW4teHl6JztcbiAgICAgIH0gZWxzZSBpZiAoZW1haWwgPT09ICdhbmdlbGZpZXJvaW5rQGhvdG1haWwuY29tJykge1xuICAgICAgICB1c2VyRGF0YSA9IHtcbiAgICAgICAgICBpZDogJ3NwaGlueC11c2VyLTEyMycsXG4gICAgICAgICAgZW1haWw6ICdhbmdlbGZpZXJvaW5rQGhvdG1haWwuY29tJyxcbiAgICAgICAgICB1c2VybmFtZTogJ3NwaGlueCcsXG4gICAgICAgICAgZGlzcGxheU5hbWU6ICdTcGhpbngnLFxuICAgICAgICAgIHJvbGU6ICdBRE1JTicgYXMgVXNlclJvbGUsXG4gICAgICAgICAgcXVhbnR1bVNjb3JlOiAyNDUsXG4gICAgICAgICAgc3Bpcml0R2x5cGhUaWVyOiAzLFxuICAgICAgICAgIHByb2ZpbGVJbWFnZTogJy9pbWFnZXMvc3BoaW54LXByb2ZpbGUucG5nJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTE1VDAwOjAwOjAwLjAwMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHNlcnZpY2VzX3B1Ymxpc2hlZDogOCxcbiAgICAgICAgICB0b3RhbF9kb3dubG9hZHM6IDEyNDUsXG4gICAgICAgICAgYXZlcmFnZV9yYXRpbmc6IDQuOCxcbiAgICAgICAgICB3ZWVrbHlfc3RhdHM6IHtcbiAgICAgICAgICAgIHZpZXdzOiAyNDUsXG4gICAgICAgICAgICBpbnRlcmFjdGlvbnM6IDg5XG4gICAgICAgICAgfSxcbiAgICAgICAgICBtb250aGx5X3N0YXRzOiB7XG4gICAgICAgICAgICB2aWV3czogOTgyLFxuICAgICAgICAgICAgaW50ZXJhY3Rpb25zOiAzNjdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHF1YXJ0ZXJseV9jb252ZXJzaW9uczogMTU2LFxuICAgICAgICAgIHllYXJseV9yZXZlbnVlOiA0NTYwMCxcbiAgICAgICAgICB1c2VyX2VuZ2FnZW1lbnQ6IDc4LFxuICAgICAgICAgIGZvbGxvd2VyczogWydjbGF1ZGUtdXNlci00NTYnXSxcbiAgICAgICAgICBmb2xsb3dpbmc6IFsnY2xhdWRlLXVzZXItNDU2J10sXG4gICAgICAgICAgZm9sbG93ZXJDb3VudDogNDIsXG4gICAgICAgICAgaGFzUGFpZE9uYm9hcmRpbmdGZWU6IHRydWUsXG4gICAgICAgICAgaXNOZXdzbGV0dGVyU3Vic2NyaWJlcjogdHJ1ZSxcbiAgICAgICAgICB1bmxvY2tlZFByZW1pdW1BY2Nlc3M6IHtcbiAgICAgICAgICAgIGdhbGF0ZWE6IHRydWUsXG4gICAgICAgICAgICBxdWFudHVtOiB0cnVlLFxuICAgICAgICAgICAgYWVnaXM6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGF1dGhUb2tlbiA9ICdzcGhpbngtdG9rZW4teHl6JztcbiAgICAgIH0gZWxzZSBpZiAoZW1haWwgPT09ICdhbmdlbGZpZXJvaW5rMUBob3RtYWlsLmNvbScpIHtcbiAgICAgICAgdXNlckRhdGEgPSB7XG4gICAgICAgICAgaWQ6ICdjbGF1ZGUtdXNlci00NTYnLFxuICAgICAgICAgIGVtYWlsOiAnYW5nZWxmaWVyb2luazFAaG90bWFpbC5jb20nLFxuICAgICAgICAgIHVzZXJuYW1lOiAnY2xhdWRlJyxcbiAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NsYXVkZScsXG4gICAgICAgICAgcm9sZTogJ0FETUlOJyBhcyBVc2VyUm9sZSxcbiAgICAgICAgICBxdWFudHVtU2NvcmU6IDMxNSxcbiAgICAgICAgICBzcGlyaXRHbHlwaFRpZXI6IDQsXG4gICAgICAgICAgcHJvZmlsZUltYWdlOiAnL2ltYWdlcy9jbGF1ZGUtcHJvZmlsZS5wbmcnLFxuICAgICAgICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDAuMDAwWicsXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgc2VydmljZXNfcHVibGlzaGVkOiAxMixcbiAgICAgICAgICB0b3RhbF9kb3dubG9hZHM6IDIxNTYsXG4gICAgICAgICAgYXZlcmFnZV9yYXRpbmc6IDQuOSxcbiAgICAgICAgICB3ZWVrbHlfc3RhdHM6IHtcbiAgICAgICAgICAgIHZpZXdzOiAzMTIsXG4gICAgICAgICAgICBpbnRlcmFjdGlvbnM6IDE0NVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbW9udGhseV9zdGF0czoge1xuICAgICAgICAgICAgdmlld3M6IDEyNDUsXG4gICAgICAgICAgICBpbnRlcmFjdGlvbnM6IDU3OFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcXVhcnRlcmx5X2NvbnZlcnNpb25zOiAyMzQsXG4gICAgICAgICAgeWVhcmx5X3JldmVudWU6IDY4OTAwLFxuICAgICAgICAgIHVzZXJfZW5nYWdlbWVudDogODUsXG4gICAgICAgICAgZm9sbG93ZXJzOiBbJ3NwaGlueC11c2VyLTEyMyddLFxuICAgICAgICAgIGZvbGxvd2luZzogWydzcGhpbngtdXNlci0xMjMnXSxcbiAgICAgICAgICBmb2xsb3dlckNvdW50OiA1NixcbiAgICAgICAgICBoYXNQYWlkT25ib2FyZGluZ0ZlZTogdHJ1ZSxcbiAgICAgICAgICBpc05ld3NsZXR0ZXJTdWJzY3JpYmVyOiB0cnVlLFxuICAgICAgICAgIHVubG9ja2VkUHJlbWl1bUFjY2Vzczoge1xuICAgICAgICAgICAgZ2FsYXRlYTogdHJ1ZSxcbiAgICAgICAgICAgIHF1YW50dW06IHRydWUsXG4gICAgICAgICAgICBhZWdpczogdHJ1ZSxcbiAgICAgICAgICAgIG5leHVzOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBhdXRoVG9rZW4gPSAnY2xhdWRlLXRva2VuLXh5eic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbG9naW4gY3JlZGVudGlhbHMnKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IGF1dGggc3RhdGVcbiAgICAgIHNldFVzZXIodXNlckRhdGEpO1xuICAgICAgc2V0VG9rZW4oYXV0aFRva2VuKTtcbiAgICAgIHNldElzQXV0aGVudGljYXRlZCh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gU3RvcmUgYXV0aCBkYXRhXG4gICAgICBzdG9yZUF1dGhEYXRhKHVzZXJEYXRhLCBhdXRoVG9rZW4pO1xuICAgICAgXG4gICAgICB0b2FzdC5zdWNjZXNzKCdMb2dnZWQgaW4gc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycm9yKTtcbiAgICAgIGNsZWFyQXV0aERhdGEoKTtcbiAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICBzZXRUb2tlbignJyk7XG4gICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoZmFsc2UpO1xuICAgICAgdG9hc3QuZXJyb3IoJ0xvZ2luIGZhaWxlZCcpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNpZ251cCA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCB1c2VybmFtZTogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEluIGEgcmVhbCBhcHAsIHJlZ2lzdGVyIHVzZXIgd2l0aCBzZXJ2ZXJcbiAgICAgIC8vIEZvciBub3cganVzdCBzZXQgYXV0aCBzdGF0ZSB3aXRoIG1vY2sgZGF0YVxuICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKHRydWUpO1xuICAgICAgc2V0VXNlcih7XG4gICAgICAgIC4uLm1vY2tVc2VyLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIGZvbGxvd2luZzogW10sXG4gICAgICAgIGZvbGxvd2VyczogW10sXG4gICAgICAgIGZvbGxvd2VyQ291bnQ6IDAsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2V0IG1vY2sgYXV0aCB0b2tlbiBpbiBjb29raWVcbiAgICAgIHNldENvb2tpZSgnYXV0aF90b2tlbicsICdtb2NrX3Rva2VuXzEyMzQ1JywgeyBtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDcgfSk7XG4gICAgICBcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoJ0FjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU2lnbnVwIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQnKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVQcm9maWxlSW1hZ2UgPSBhc3luYyAoaW1hZ2VVcmw6IHN0cmluZykgPT4ge1xuICAgIGlmICghdXNlcikgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFVwZGF0ZSB0aGUgdXNlciBvYmplY3Qgd2l0aCBuZXcgaW1hZ2VcbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0ge1xuICAgICAgICAuLi51c2VyLFxuICAgICAgICBwcm9maWxlSW1hZ2U6IGltYWdlVXJsXG4gICAgICB9O1xuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGUgZmlyc3RcbiAgICAgIHNldFVzZXIodXBkYXRlZFVzZXIpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgbG9jYWxTdG9yYWdlXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRVc2VyKSk7XG5cbiAgICAgIC8vIFRyeSB0byB1cGRhdGUgYmFja2VuZCBpZiBub3QgaW4gZGV2ZWxvcG1lbnQgbW9kZVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgYXBpLnB1dCgnL2FwaS92MS91c2Vycy9wcm9maWxlJywge1xuICAgICAgICAgICAgYXZhdGFyX3VybDogaW1hZ2VVcmwsXG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VyLmlkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGUgaW1hZ2UgaW4gYmFja2VuZDonLCBlcnJvcik7XG4gICAgICAgICAgLy8gQ29udGludWUgYW55d2F5IHNpbmNlIHdlJ3ZlIHVwZGF0ZWQgbG9jYWwgc3RhdGVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0b2FzdC5zdWNjZXNzKCdQcm9maWxlIGltYWdlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHByb2ZpbGUgaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZSBpbWFnZScpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZURpc3BsYXlOYW1lID0gYXN5bmMgKGRpc3BsYXlOYW1lOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVkVXNlciA9IHsgLi4udXNlciwgZGlzcGxheU5hbWUgfTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlIGZpcnN0XG4gICAgICBzZXRVc2VyKHVwZGF0ZWRVc2VyKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGxvY2FsU3RvcmFnZVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkVXNlcikpO1xuXG4gICAgICAvLyBUcnkgdG8gdXBkYXRlIGJhY2tlbmQgaWYgbm90IGluIGRldmVsb3BtZW50IG1vZGVcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGFwaS5wdXQoJy9hcGkvdjEvdXNlcnMvcHJvZmlsZScsIHtcbiAgICAgICAgICAgIHB1YmxpY19uYW1lOiBkaXNwbGF5TmFtZSxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXIuaWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byB1cGRhdGUgZGlzcGxheSBuYW1lIGluIGJhY2tlbmQ6JywgZXJyb3IpO1xuICAgICAgICAgIC8vIENvbnRpbnVlIGFueXdheSBzaW5jZSB3ZSd2ZSB1cGRhdGVkIGxvY2FsIHN0YXRlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdG9hc3Quc3VjY2VzcygnRGlzcGxheSBuYW1lIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGRpc3BsYXkgbmFtZTonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBkaXNwbGF5IG5hbWUnKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBpc1NlbGxlciA9IHVzZXI/LnJvbGUgPT09ICdTRUxMRVInIHx8IHVzZXI/LnJvbGUgPT09ICdBRE1JTic7XG5cbiAgLy8gRm9sbG93IHVzZXIgZnVuY3Rpb25hbGl0eVxuICBjb25zdCBmb2xsb3dVc2VyID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF1c2VyKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEluIGEgcmVhbCBhcHAsIG1ha2UgQVBJIGNhbGwgdG8gZm9sbG93IHVzZXJcbiAgICAgIFxuICAgICAgLy8gQ2xvbmUgdGhlIGN1cnJlbnQgZm9sbG93aW5nIGxpc3Qgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgY29uc3QgZm9sbG93aW5nID0gWy4uLih1c2VyLmZvbGxvd2luZyB8fCBbXSldO1xuICAgICAgXG4gICAgICAvLyBBZGQgdGhlIHVzZXIgSUQgaWYgbm90IGFscmVhZHkgZm9sbG93aW5nXG4gICAgICBpZiAoIWZvbGxvd2luZy5pbmNsdWRlcyh1c2VySWQpKSB7XG4gICAgICAgIGZvbGxvd2luZy5wdXNoKHVzZXJJZCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgbG9jYWwgdXNlciBzdGF0ZVxuICAgICAgc2V0VXNlcih7XG4gICAgICAgIC4uLnVzZXIsXG4gICAgICAgIGZvbGxvd2luZyxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBJbmNyZWFzZSB0aGUgb3RoZXIgdXNlcidzIHF1YW50dW0gc2NvcmUgKGluIGEgcmVhbCBhcHAgdGhpcyB3b3VsZCBiZSBoYW5kbGVkIGJ5IHRoZSBzZXJ2ZXIpXG4gICAgICB0b2FzdC5zdWNjZXNzKCdOb3cgZm9sbG93aW5nIHVzZXIgKCs1IHBvaW50cyB0byB0aGVtKScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGb2xsb3cgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoJ0ZhaWxlZCB0byBmb2xsb3cgdXNlcicpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuICBcbiAgLy8gVW5mb2xsb3cgdXNlciBmdW5jdGlvbmFsaXR5XG4gIGNvbnN0IHVuZm9sbG93VXNlciA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghdXNlcikgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBJbiBhIHJlYWwgYXBwLCBtYWtlIEFQSSBjYWxsIHRvIHVuZm9sbG93IHVzZXJcbiAgICAgIFxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXNlciBJRCBmcm9tIHRoZSBmb2xsb3dpbmcgbGlzdFxuICAgICAgY29uc3QgZm9sbG93aW5nID0gKHVzZXIuZm9sbG93aW5nIHx8IFtdKS5maWx0ZXIoaWQgPT4gaWQgIT09IHVzZXJJZCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgbG9jYWwgdXNlciBzdGF0ZVxuICAgICAgc2V0VXNlcih7XG4gICAgICAgIC4uLnVzZXIsXG4gICAgICAgIGZvbGxvd2luZyxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICB0b2FzdC5zdWNjZXNzKCdVbmZvbGxvd2VkIHVzZXInKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVW5mb2xsb3cgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoJ0ZhaWxlZCB0byB1bmZvbGxvdyB1c2VyJyk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3tcbiAgICAgIHVzZXIsXG4gICAgICBpc0F1dGhlbnRpY2F0ZWQsXG4gICAgICBsb2dpbixcbiAgICAgIGxvZ291dCxcbiAgICAgIHNpZ251cCxcbiAgICAgIHVwZGF0ZVByb2ZpbGVJbWFnZSxcbiAgICAgIHVwZGF0ZURpc3BsYXlOYW1lLFxuICAgICAgaXNTZWxsZXIsXG4gICAgICB0b2tlbixcbiAgICAgIGlzTG9hZGluZyxcbiAgICAgIGZvbGxvd1VzZXIsXG4gICAgICB1bmZvbGxvd1VzZXJcbiAgICB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0F1dGhDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUF1dGggPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEF1dGhDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlQXV0aCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEF1dGhQcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufTsgIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImFwaSIsInNldENvb2tpZSIsImRlbGV0ZUNvb2tpZSIsInRvYXN0IiwibW9ja1VzZXIiLCJBdXRoQ29udGV4dCIsInVuZGVmaW5lZCIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsInNldFVzZXIiLCJpc0F1dGhlbnRpY2F0ZWQiLCJzZXRJc0F1dGhlbnRpY2F0ZWQiLCJ0b2tlbiIsInNldFRva2VuIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwidmFsaWRhdGVTdG9yZWRBdXRoIiwic3RvcmVkVXNlciIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdG9yZWRUb2tlbiIsInVzZXJEYXRhIiwiSlNPTiIsInBhcnNlIiwiZW1haWwiLCJwcm9maWxlSW1hZ2UiLCJkaXNwbGF5TmFtZSIsImlkIiwicm9sZSIsInF1YW50dW1TY29yZSIsInNwaXJpdEdseXBoVGllciIsImZvbGxvd2VycyIsImZvbGxvd2luZyIsImZvbGxvd2VyQ291bnQiLCJoYXNQYWlkT25ib2FyZGluZ0ZlZSIsImlzTmV3c2xldHRlclN1YnNjcmliZXIiLCJ1bmxvY2tlZFByZW1pdW1BY2Nlc3MiLCJlcnJvciIsImNvbnNvbGUiLCJzdG9yZUF1dGhEYXRhIiwiYXV0aFRva2VuIiwiZXhpc3RpbmdEYXRhIiwiZmluYWxVc2VyRGF0YSIsImV4aXN0aW5nVXNlciIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJjbGVhckF1dGhEYXRhIiwicmVtb3ZlSXRlbSIsImNoZWNrQXV0aFN0YXR1cyIsInN0b3JlZEF1dGgiLCJsb2ciLCJyZXNwb25zZSIsImdldCIsImRhdGEiLCJhcGlFcnJvciIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19ERU1PX01PREUiLCJtb2NrVXNlckRhdGEiLCJtb2NrVG9rZW4iLCJsb2dvdXQiLCJzdWNjZXNzIiwibG9naW4iLCJwYXNzd29yZCIsInVzZXJuYW1lIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZEF0Iiwic2VydmljZXNfcHVibGlzaGVkIiwidG90YWxfZG93bmxvYWRzIiwiYXZlcmFnZV9yYXRpbmciLCJ3ZWVrbHlfc3RhdHMiLCJ2aWV3cyIsImludGVyYWN0aW9ucyIsIm1vbnRobHlfc3RhdHMiLCJnYWxhdGVhIiwicXVhcnRlcmx5X2NvbnZlcnNpb25zIiwieWVhcmx5X3JldmVudWUiLCJ1c2VyX2VuZ2FnZW1lbnQiLCJxdWFudHVtIiwiYWVnaXMiLCJuZXh1cyIsIkVycm9yIiwic2lnbnVwIiwibWF4QWdlIiwidXBkYXRlUHJvZmlsZUltYWdlIiwiaW1hZ2VVcmwiLCJ1cGRhdGVkVXNlciIsInB1dCIsImF2YXRhcl91cmwiLCJ1c2VyX2lkIiwid2FybiIsInVwZGF0ZURpc3BsYXlOYW1lIiwicHVibGljX25hbWUiLCJpc1NlbGxlciIsImZvbGxvd1VzZXIiLCJ1c2VySWQiLCJpbmNsdWRlcyIsInB1c2giLCJ1bmZvbGxvd1VzZXIiLCJmaWx0ZXIiLCJQcm92aWRlciIsInZhbHVlIiwidXNlQXV0aCIsImNvbnRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./contexts/AuthContext.tsx\n"));

/***/ })

});